1. refactoring
2. tests
3. generate name and send to email